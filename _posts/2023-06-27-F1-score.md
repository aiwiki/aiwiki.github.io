---
layout: post
title: "F1 Score"
categories: scientists
author: huuminh365
tags: [scientists, machine learning]
usemathjax: true
description: "Trong bÃ i viáº¿t nÃ y chÃºng ta sáº½ tÃ¬m hiá»ƒu vá» thang Ä‘o F1_score"
published: true
---

## F1_SCORE
Äá»‘i vá»›i má»™t bÃ i classification cháº¯c cÃ¡c báº¡n sáº½ biáº¿t má»™t thang Ä‘o cÃ³ tÃªn lÃ  F1_score. BÃ i viáº¿t hÃ´m nay mÃ¬nh sáº½ giáº£i thÃ­ch vÃ  giá»›i thiá»‡u vá» thang Ä‘o nÃ y(Ä‘i tá»« rá»… tá»›i ngá»n luÃ´n :3), bÃ i viáº¿t hÆ¡i dÃ i khÃ´ng Ä‘á»c thÃ¬ thÃ´i.

Äáº§u tiÃªn ta biáº¿t Ä‘áº¿n cÃ´ng thá»©c cá»§a **F1_score** lÃ   **F1_score**  = $\dfrac{2*Precision *Recall}{Precision + Recall}$

$Precision  = \dfrac{TP}{TP+FP}$, cÃ³ nghÄ©a lÃ  tá»‰ lá»‡ nhÃ£n dá»± Ä‘oÃ¡n lÃ  **Ä‘Ãºng** trÃªn **tá»•ng sá»‘ nhÃ£n Ä‘Ãºng tháº­t**

$Recall = \dfrac{TP}{TP + FN}$, cÃ³ nghÄ©a lÃ  tá»‰ lá»‡ nhÃ£n dá»± Ä‘oÃ¡n **Ä‘Ãºng** trÃªn **tá»•ng sá»‘ nhÃ£n** Ä‘Æ°á»£c **dá»± Ä‘oÃ¡n** **lÃ  Ä‘Ãºng.**

Äá»ƒ hiá»ƒu TP, FN, FP lÃ  gÃ¬ cÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu vÃ  Ä‘á»c thÃªm vá» confusion matrix nhÃ© ğŸ˜Š

 CÃ³ thá»ƒ báº¡n Ä‘Ã£ biáº¿t thÃ¬ cÃ³ 3 loáº¡i tÃ­nh giÃ¡ trá»‹ trung bÃ¬nh lÃ  trung bÃ¬nh cá»™ng(tá»•ng láº¡i rá»“i chia ra), trung bÃ¬nh nhÃ¢n(láº¥y cÄƒn) vÃ  trung bÃ¬nh Ä‘iá»u hÃ²a, cÃ´ng thá»©c trÃªn chÃ­nh lÃ  trung bÃ¬nh Ä‘iá»u hÃ²a cá»§a Precision vÃ  Recall. 

Váº¥n Ä‘á» 1 : Váº­y táº¡i sao ta khÃ´ng tÃ­nh báº±ng trung bÃ¬nh cá»™ng hay trung bÃ¬nh nhÃ¢n mÃ  láº¡i tÃ­nh báº±ng trung bÃ¬nh Ä‘iá»u hÃ²a? ChÃ­nh lÃ  vÃ¬ náº¿u má»™t trong 2 giÃ¡ trá»‹ vÆ°á»£t trá»™i hÆ¡n giÃ¡ trá»‹ cÃ²n láº¡i(vÃ­ dá»¥ Recall = 1 luÃ´n cháº³ng háº¡n), thÃ¬ káº¿t quáº£ sáº½ bá»‹ phá»¥ thuá»™c vÃ  áº£nh hÆ°á»Ÿng vÃ o bÃªn cÃ³ giÃ¡ trá»‹ cao hÆ¡n. CÃ²n Ä‘á»‘i vá»›i trung bÃ¬nh Ä‘iá»u hÃ²a, thá»±c cháº¥t lÃ  má»™t dáº¡ng trung bÃ¬nh cá»™ng cÃ³ há»‡ sá»‘(xem chi tiáº¿t cÃ´ng thá»©c á»Ÿ comment). ChÃ­nh vÃ¬ váº­y ta cÃ³ thá»ƒ Ä‘áº·t thÃªm trá»ng sá»‘(cÃ¢n báº±ng sá»± quan trá»ng ) cho cÃ¡c thÃ nh pháº§n.

Váº­y náº¿u khai triá»ƒn theo cÃ´ng thá»©c trung bÃ¬nh Ä‘iá»u hÃ²a, thÃ¬ ta sáº½ Ä‘Æ°á»£c :

$\dfrac{2}{\dfrac{1}{Precision} + \dfrac{1}{Recall}}$

Váº¥n Ä‘á» 2: Tháº¿ cÃ²n Ä‘á»‘i vá»›i dá»¯ liá»‡u máº¥t cÃ¢n báº±ng thÃ¬ sao?

Äá»‘i vá»›i dá»¯ liá»‡u bá»‹ máº¥t cÃ¢n báº±ng, ta cÃ³ thá»ƒ thÃªm tham sá»‘ $\beta$ vÃ o cÃ´ng thá»©c, tá»« Ä‘Ã¢y ta sáº½ cÃ³ cÃ´ng thá»©c nhÆ° sau:

$F_{\beta} = \dfrac{(1+\beta^2)(Precision * Recall)}{\beta^2 Recall + Precision}$,

Vá»›i $\beta = 1$, ta Ä‘Æ°á»£c cÃ´ng thá»©c F1_score truyá»n thá»‘ng

Vá»›i $\beta > 1$, cÃ³ nghÄ©a lÃ  ta Ä‘ang Ä‘áº·t trá»ng sá»‘  cho Recall nhiá»u hÆ¡n vÃ  ngÆ°á»£c láº¡i, lÃ  Ä‘áº·t trá»ng sá»‘ cho Precision nhiá»u hÆ¡n . TÃ¹y thuá»™c vÃ o bÃ i toÃ¡n mÃ  chÃºng ta cÃ³ thá»ƒ Ä‘iá»u chá»‰nh cho phÃ¹ há»£p.

CÃ¡c báº¡n cÃ³ thá»ƒ tÃ¬m hiá»ƒu thÃªm á»Ÿ paper: â€œ****Learning from Imbalanced Dataâ€ cá»§a He et al.****

hoáº·c cÃ³ thá»ƒ Ä‘á»c trÃªn MathExchange : [unbalanced classes - Precision and Recall for highly-imbalanced data - Cross Validated (stackexchange.com)](https://stats.stackexchange.com/questions/503511/precision-and-recall-for-highly-imbalanced-data) 